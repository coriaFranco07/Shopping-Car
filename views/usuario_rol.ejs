<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">


<%- include('partialCarrito/cabezeraCarrito.ejs') %>   

  
    <div class="container" tyle="background-color: aliceblue;
    font-family: roboto;
    margin: auto; border-radius: 15px 10px 15px 10px;">

            <a href="/usuario" class="btn btn-outline-light btn-lg px-5" style="background-color: #1f2735; right: 140px; width: 150px; position: fixed; background-color: #1f2735;">Cancel</a>

            <h1 style="background-color: aliceblue;
            font-family: roboto;
            margin: auto;
            text-align: center; border-radius: 15px 10px 15px 10px;">USUARIO/ROL</h1>

            
            

            <table id="usuarios_rol" class="table table-bordered table-striped text-center nt-4">

                <thead>

                    <tr class="bg-primary text-white">

                        <th scope="col">idUserRol</th>
                        <th scope="col">USUARIO</th>
                        <th scope="col">ROLES ASIGNADOS</th>
                        <th scope="col">ACCIONES</th>

                    </tr>

                </thead>
                
                <tbody>


                        <% rol.forEach((r) => { %>

                            <a href="/createUser_Rol/<%= r.id %>" class="btn btn-outline-info"><i class="fa-solid fa-square-plus"></i></a>
                            
                            <tr>

                                

                                <td><%= r.id_UserRol%></td>

                                <td><%= r.user %></td>


                                <td><%= r.nombre_rol %></td>

                                <td>
                                    <a onclick="confirmar(<%= r.id_UserRol %>)" class="btn btn-outline-danger"><i class="fa-solid fa-trash"></i></a>
                                </td> 
                                            
        
                            </tr>

                        <% }) %>

                    
                              
                    <!-- <td>
                                
                        <h5>Roles Asignados</h5>
                        <select  id="name_rol" name="name_rol"  tabindex="3" >

                            

                            <% rol.forEach((r) => { %>


                            <option   class="text-sm-center" <%= r.id_rol=='basico' ? 'selected' : '' %> value="<%=r.id_rol %>"><%=r.nombre_rol %></option>
                               
                              
                            <% }) %>
                        </select>
                          
                      
                    </td> -->

                </tbody>

            </table>

        </div>

        <br>


        <%- include('partialCarrito/scriptCarrito.ejs')%> 

        

        <!-- Script para Eliminar Rol -->
        <script>

            /* $(document).ready(function () {
                $('#carrito').DataTable();
            }); */

            // Eliminando registro usando sweetAlert

            function confirmar(id_UserRol){

                Swal.fire({
                    
                    title: 'Â¿Confirma eliminar el usuario?',
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Confirmar'
                    
                    }).then((result) => {

                    if (result.isConfirmed) {
                        window.location= '/deleteUser_Rol/'+id_UserRol;
                    } 
                });
            }


            

           

        </script>

        

    </body>

</html> 