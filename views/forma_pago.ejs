<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">


<%- include('partial/cabezera.ejs') %>  

<br>
 
<h3 style="text-align: center;">FORMA DE PAGO</h3>
<h6 style="text-align: center;">DESCUENTO DEL 10% CON EFECTIVO</h6>



<div class="container mt-4 col-12 d-flex" >

    <div class="card border-secondary " style="place-items: center; display: grid; margin: auto">
            
        <div class="card-body">
                
               
                <div class="mb-3">
                        
                        
                    <select  id="name_pago" name="name_pago"  tabindex="3" >
                                    
                        <% formaPago.forEach((pago)=> { %>
                    
                    
                            <option   class="text-sm-center" <%= pago.id_tipoPago=='Efectivo' ? 'selected' : '' %> value="<%=pago.id_tipoPago %>"><%=pago.tipo %></option>
                               
                              
                        <% }) %>
                    
                    </select>
                          
                      
                </div>

                <div class="mb-3">
                    <button id="btn-siguiente" type="submit" class="btn btn-primary" tabindex="5">Siguiente</button>
                    <a href="/carritoPrevio" class="btn btn-secondary">Cancelar</a>
                </div>
           

        </div>

    </div>

</div>
   

<%- include('partial/scrip.ejs')%> 

 
    <script>
        
        const btnSiguiente = document.getElementById("btn-siguiente");
        const selectElement = document.getElementById("name_pago");

        //Id de forma de pago
        /* btnSiguiente.addEventListener("click", function(event) {
        event.preventDefault(); // evita que se env√≠e el formulario

            const selectedValue = selectElement.value;
            //console.log(selectedValue);
        }); */



        //Nombre de forma de pago
        document.getElementById("btn-siguiente").addEventListener("click", function() {
            var selectedOption = document.getElementById("name_pago").options[document.getElementById("name_pago").selectedIndex].text;
            
            //alert(`${selectedOption} `);

            window.location= '/facturacionPrevia/' + selectedOption ;
        });

    </script> 

   
    </body>

</html> 



